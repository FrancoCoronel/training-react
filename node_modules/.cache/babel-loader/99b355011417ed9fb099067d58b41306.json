{"ast":null,"code":"export function itemsHasErrored(bool) {\n  return {\n    type: 'ITEMS_HAS_ERRORED',\n    hasErrored: bool\n  };\n}\nexport function itemsIsLoading(bool) {\n  return {\n    type: 'ITEMS_IS_LOADING',\n    isLoading: bool\n  };\n}\nexport function itemsFetchDataSuccess(items) {\n  return {\n    type: 'ITEMS_FETCH_DATA_SUCCESS',\n    items: items\n  };\n}\nexport function errorAfterFiveSeconds() {\n  // We return a function instead of an action object\n  return function (dispatch) {\n    setTimeout(function () {\n      // This function is able to dispatch other action creators\n      dispatch(itemsHasErrored(true));\n    }, 5000);\n  };\n}\nexport function itemsFetchData(url) {\n  return function (dispatch) {\n    dispatch(itemsIsLoading(true));\n    fetch(url).then(function (response) {\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n\n      dispatch(itemsIsLoading(false));\n      return response;\n    }).then(function (response) {\n      return response.json();\n    }).then(function (items) {\n      return dispatch(itemsFetchDataSuccess(items));\n    }).catch(function () {\n      return dispatch(itemsHasErrored(true));\n    });\n  };\n}","map":{"version":3,"sources":["/Users/fcoronel/Sources/React-training/training-react/src/app/actions/items.js"],"names":["itemsHasErrored","bool","type","hasErrored","itemsIsLoading","isLoading","itemsFetchDataSuccess","items","errorAfterFiveSeconds","dispatch","setTimeout","itemsFetchData","url","fetch","then","response","ok","Error","statusText","json","catch"],"mappings":"AAAA,OAAO,SAASA,eAAT,CAAyBC,IAAzB,EAA+B;AAClC,SAAO;AACHC,IAAAA,IAAI,EAAE,mBADH;AAEHC,IAAAA,UAAU,EAAEF;AAFT,GAAP;AAIH;AACD,OAAO,SAASG,cAAT,CAAwBH,IAAxB,EAA8B;AACjC,SAAO;AACHC,IAAAA,IAAI,EAAE,kBADH;AAEHG,IAAAA,SAAS,EAAEJ;AAFR,GAAP;AAIH;AACD,OAAO,SAASK,qBAAT,CAA+BC,KAA/B,EAAsC;AACzC,SAAO;AACHL,IAAAA,IAAI,EAAE,0BADH;AAEHK,IAAAA,KAAK,EAALA;AAFG,GAAP;AAIH;AAED,OAAO,SAASC,qBAAT,GAAiC;AACpC;AACA,SAAO,UAACC,QAAD,EAAc;AACjBC,IAAAA,UAAU,CAAC,YAAM;AACb;AACAD,MAAAA,QAAQ,CAACT,eAAe,CAAC,IAAD,CAAhB,CAAR;AACH,KAHS,EAGP,IAHO,CAAV;AAIH,GALD;AAMH;AAED,OAAO,SAASW,cAAT,CAAwBC,GAAxB,EAA6B;AAChC,SAAO,UAACH,QAAD,EAAc;AACjBA,IAAAA,QAAQ,CAACL,cAAc,CAAC,IAAD,CAAf,CAAR;AACAS,IAAAA,KAAK,CAACD,GAAD,CAAL,CACKE,IADL,CACU,UAACC,QAAD,EAAc;AAChB,UAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AACd,cAAMC,KAAK,CAACF,QAAQ,CAACG,UAAV,CAAX;AACH;;AACDT,MAAAA,QAAQ,CAACL,cAAc,CAAC,KAAD,CAAf,CAAR;AACA,aAAOW,QAAP;AACH,KAPL,EAQKD,IARL,CAQU,UAACC,QAAD;AAAA,aAAcA,QAAQ,CAACI,IAAT,EAAd;AAAA,KARV,EASKL,IATL,CASU,UAACP,KAAD;AAAA,aAAWE,QAAQ,CAACH,qBAAqB,CAACC,KAAD,CAAtB,CAAnB;AAAA,KATV,EAUKa,KAVL,CAUW;AAAA,aAAMX,QAAQ,CAACT,eAAe,CAAC,IAAD,CAAhB,CAAd;AAAA,KAVX;AAWH,GAbD;AAcH","sourcesContent":["export function itemsHasErrored(bool) {\n    return {\n        type: 'ITEMS_HAS_ERRORED',\n        hasErrored: bool\n    };\n}\nexport function itemsIsLoading(bool) {\n    return {\n        type: 'ITEMS_IS_LOADING',\n        isLoading: bool\n    };\n}\nexport function itemsFetchDataSuccess(items) {\n    return {\n        type: 'ITEMS_FETCH_DATA_SUCCESS',\n        items\n    };\n}\n\nexport function errorAfterFiveSeconds() {\n    // We return a function instead of an action object\n    return (dispatch) => {\n        setTimeout(() => {\n            // This function is able to dispatch other action creators\n            dispatch(itemsHasErrored(true));\n        }, 5000);\n    };\n}\n\nexport function itemsFetchData(url) {\n    return (dispatch) => {\n        dispatch(itemsIsLoading(true));\n        fetch(url)\n            .then((response) => {\n                if (!response.ok) {\n                    throw Error(response.statusText);\n                }\n                dispatch(itemsIsLoading(false));\n                return response;\n            })\n            .then((response) => response.json())\n            .then((items) => dispatch(itemsFetchDataSuccess(items)))\n            .catch(() => dispatch(itemsHasErrored(true)));\n    };\n}"]},"metadata":{},"sourceType":"module"}